(function(b){b.extend(verge);var c=b("body"),d=b("#navigation"),e=b("#main_content"),f=b("#onSite"),g=b("footer"),h=b("header"),j=b(window),k=0,m=function(){f.find("a").removeClass("in-viewport"),f.find("a").each(function(){var n=b(this);b.inViewport(b(n.attr("href")))&&n.addClass("in-viewport")})};(function(n,o){var p=0,r=b("<div>"),s=r,t=null;b(n).find(":header").each(function(){var v,w,u=parseInt(this.nodeName.charAt(1));if(p<u)p=u,t=b("<ol/>"),r.append(t);else if(p===u);else if(p>u)for(v=p-u,p=u,w=0;w<v;w++)r=b(t.parent().get(0)),t=b(r.parent().get(0));var x=b(this).text(),y=b("<li class=\"header"+u+"\"><a href=\"#"+b(this).attr("id")+"\">"+x+"</a></li>");t.append(y),r=y}),b(o).html(s)})(e,f),d.css("max-height",j.height()),e.css("min-height",j.height()-(g.outerHeight()+h.outerHeight())),b("#navHandle").click(function(n){c.toggleClass("menu-open"),n.preventDefault()}),window.setInterval(function(){var n=j.scrollTop();k===n||(k=n,100<n?(c.addClass("scroll"),d.css("height",j.height()),m()):c.removeClass("scroll"),b.inViewport(g)&&d.css("height",j.height()-g.outerHeight()))},500)})(jQuery,verge);
