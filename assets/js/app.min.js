(function(b){b.extend(verge);var d=b("body"),a=b("#navigation"),e=b("#main_content"),j=b("#onSite"),h=b("footer"),c=b("header"),f=0,i=function(l,o){var k=0,p=[],n=b("<div>"),q=n,m=null;b(l).find(":header").each(function(){var s=parseInt(this.nodeName.charAt(1)),u,t;if(k<s){k=s;m=b("<ol/>");n.append(m)}else{if(k===s){}else{if(k>s){u=k-s;k=s;for(t=0;t<u;t++){n=b(m.parent().get(0));m=b(n.parent().get(0))}}}}var v=(b(this).text()),r=b('<li class="header'+s+'"><a href="#'+b(this).attr("id")+'">'+v+"</a></li>");m.append(r);n=r});b(o).html(q)},g=function(){j.find("a").removeClass("in-viewport");j.find("a").each(function(){var k=b(this);if(b.inViewport(b(k.attr("href")))){k.addClass("in-viewport")}})};i(e,j);a.css("max-height",b(window).height());e.css("min-height",b(window).height()-(h.outerHeight()+c.outerHeight()));b("#navHandle").click(function(k){d.toggleClass("menu-open");k.preventDefault()});window.setInterval(function(){if(f===d[0].scrollTop){return}f=d[0].scrollTop;if(d[0].scrollTop>100){d.addClass("scroll");a.css("height",b(window).height());g()}else{d.removeClass("scroll")}if(b.inViewport(h)){a.css("height",b(window).height()-h.height())}},500)}(jQuery,verge));