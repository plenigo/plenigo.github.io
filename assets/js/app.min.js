(function(e){var a=e("body"),f=e("#navigation"),d=e("#main_content"),b=e("#onSite"),c=function(i,l){var h=0,m=[],k=e("<div>"),n=k,j=null;e(i).find(":header").each(function(){var p=parseInt(this.nodeName.charAt(1)),q;if(h<p){m[p-1]=1;h=p;j=e("<ul>");k.append(j)}else{if(h==p){m[p-1]+=1}else{if(h>p){var t=h-p;m[p-1]+=1;h=p;for(q=0;q<t;q++){k=e(j.parent().get(0));j=e(k.parent().get(0))}}}}var s="",u="";for(q=1;q<p;q++){var r=m[q];u+=(r+".");s+=(r+"_")}u+=(" "+e(this).text());if(e(this).is("h1")){return true}var o=e('<li><a href="#'+e(this).attr("id")+'">'+u+"</a></li>");j.append(o);k=o});e(l).html(n)},g=function(){b.find("a").removeClass("in-viewport");b.find("a").each(function(){var h=e(this);if(inViewport(e(h.attr("href")))){h.addClass("in-viewport")}})};c(d,b);e("#navHandle").click(function(h){a.toggleClass("menu-open");h.preventDefault()});window.setInterval(function(){if(a[0].scrollTop>100){a.addClass("scroll");f.css("height",e(window).height());g()}else{a.removeClass("scroll")}},500)}(jQuery));