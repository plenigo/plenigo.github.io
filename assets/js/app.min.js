(function(e){e.extend(verge);var a=e("body"),g=e("#navigation"),d=e("#main_content"),b=e("#onSite"),f=0,c=function(j,m){var i=0,n=[],l=e("<div>"),o=l,k=null;e(j).find(":header").each(function(){var q=parseInt(this.nodeName.charAt(1)),r;if(i<q){n[q-1]=1;i=q;k=e("<ul>");l.append(k)}else{if(i==q){n[q-1]+=1}else{if(i>q){var u=i-q;n[q-1]+=1;i=q;for(r=0;r<u;r++){l=e(k.parent().get(0));k=e(l.parent().get(0))}}}}var t="",v="";for(r=1;r<q;r++){var s=n[r];v+=(s+".");t+=(s+"_")}v+=(" "+e(this).text());if(e(this).is("h1")){return true}var p=e('<li><a href="#'+e(this).attr("id")+'">'+v+"</a></li>");k.append(p);l=p});e(m).html(o)},h=function(){b.find("a").removeClass("in-viewport");b.find("a").each(function(){var i=e(this);if(e.inViewport(e(i.attr("href")))){i.addClass("in-viewport")}})};c(d,b);e("#navHandle").click(function(i){a.toggleClass("menu-open");i.preventDefault()});window.setInterval(function(){if(f===a[0].scrollTop){return}f=a[0].scrollTop;if(a[0].scrollTop>100){a.addClass("scroll");g.css("height",e(window).height());h()}else{a.removeClass("scroll")}},500)}(jQuery,verge));